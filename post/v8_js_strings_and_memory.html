<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>[Черновик] V8. Строки и память</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="stylesheet" href="/static/a11y-light.css"><meta name="author" content="Артур Аралин"><style>* {
      --typography-spacing-vertical: 0.75rem !important;
      --font-size: 20px;
    }

    .header-anchor {
      color: var(--h1-color);
      text-decoration: none;
    }

    p {
      --color: #2f3940 !important;
    }</style></head><body><main class="container"><div><nav><ul><li><hgroup><h3>Технический блог Артура</h3><h6>IT и музыкантсво</h6></hgroup></li></ul><ul><li><a href="/">Главная</a></li><li><a href="https://github.com/ArturAralin" target="_blank">GitHub</a></li></ul></nav></div><div class="grid"><div><h1 id="%D1%8D%D1%82%D0%BE-%D1%87%D0%B5%D1%80%D0%BD%D0%BE%D0%B2%D0%B8%D0%BA.-%D1%80%D0%B0%D0%BD%D0%BE-%D0%B5%D1%89%D0%B5.-%D0%BB%D1%83%D1%87%D1%88%D0%B5-%D0%BF%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B8-%D0%BC%D0%B5%D0%BC%D1%8B-%D1%81-%D0%BA%D0%BE%D1%82%D0%B0%D0%BC%D0%B8" tabindex="-1"><a class="header-anchor" href="#%D1%8D%D1%82%D0%BE-%D1%87%D0%B5%D1%80%D0%BD%D0%BE%D0%B2%D0%B8%D0%BA.-%D1%80%D0%B0%D0%BD%D0%BE-%D0%B5%D1%89%D0%B5.-%D0%BB%D1%83%D1%87%D1%88%D0%B5-%D0%BF%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B8-%D0%BC%D0%B5%D0%BC%D1%8B-%D1%81-%D0%BA%D0%BE%D1%82%D0%B0%D0%BC%D0%B8"><span><strong>ЭТО ЧЕРНОВИК. Рано еще. <a href="https://www.yandex.ru/images/search?text=%D0%BC%D0%B5%D0%BC%20%D1%81%20%D0%BA%D0%BE%D1%82%D0%B0%D0%BC%D0%B8">Лучше посмотри мемы с котами</a></strong></span></a></h1><h1 id="v8.-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8-%D0%B8-%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D1%8C" tabindex="-1"><a class="header-anchor" href="#v8.-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8-%D0%B8-%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D1%8C"><span>V8. Строки и память</span></a></h1><p>Многим известно, что в JavaScript типы данных делятся на примитивы и объекты. Вот что говорит MDN на тему примитивов:</p><blockquote><p>Примитив (значение примитивного типа, примитивный тип данных) это данные, которые не являются объектом и не имеют методов. В JavaScript 7 простых типов данных: string, number, boolean, null, undefined, symbol (новое в ECMAScript 2015), bigint.</p></blockquote><p>Если продолжить читать дальше, то можно увидеть следующее:</p><blockquote><p>Все примитивы неизменяемы (immutable), то есть они не могут быть изменены. Важно не путать сам примитив с переменной, которой присвоено значение примитивного типа. Переменной может быть переприсвоено новое значение, но существующее значение примитивного типа не может быть изменено подобно объектам, массивам и функциям.</p></blockquote><p>С неизменяемостью чисел, булевых значений и юнит типов все ясно, но вот строки... Если чутка погрузиться в суть, то строки вовсе не примитивы, а вполне себе объекты, которые состоят из какого-то массива и длины. Что происходи с строками при передаче их в функцию или при конкатенации (склеивании) строк? Сейчас разберемся.</p><h1 id="%D0%BD%D0%B0%D0%B2%D1%83%D0%BA%D0%B0!" tabindex="-1"><a class="header-anchor" href="#%D0%BD%D0%B0%D0%B2%D1%83%D0%BA%D0%B0!"><span>Навука!</span></a></h1><p>Первое, что пришло мне в голову - это провести эксперимент. Я составил три семпла кода, которые используя длинную строку реализовывали четыре разаных сценария: чтение строки, запись строки в переменную, конкатенация (склеинвание) строки и слайс (срез) строки.</p><h2 id="%D0%B4%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD-%D1%8D%D0%BA%D1%81%D0%BF%D0%B5%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D1%82%D0%B0" tabindex="-1"><a class="header-anchor" href="#%D0%B4%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD-%D1%8D%D0%BA%D1%81%D0%BF%D0%B5%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D1%82%D0%B0"><span>Дизайн эксперимента</span></a></h2><p><a href="https://github.com/ArturAralin/arturaralin.github.io/blob/master/pages/v8_js_strings_and_memory/tests/runner.js">runner.js</a></p><h2 id="%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8" tabindex="-1"><a class="header-anchor" href="#%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8"><span>Чтение строки</span></a></h2><p><a href="https://github.com/ArturAralin/arturaralin.github.io/blob/master/pages/v8_js_strings_and_memory/tests/no_mutations.js">no_mutations.js</a> <img src="/pages/v8_js_strings_and_memory/pics/reading.png" alt="Гафик для случая чтения"></p><h2 id="%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8-%D0%B2-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%83%D1%8E" tabindex="-1"><a class="header-anchor" href="#%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8-%D0%B2-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%83%D1%8E"><span>Запись строки в переменную</span></a></h2><p><a href="https://github.com/ArturAralin/arturaralin.github.io/blob/master/pages/v8_js_strings_and_memory/tests/assign.js">assign.js</a></p><p><img src="/pages/v8_js_strings_and_memory/pics/assign.png" alt="Гафик для случая чтения"></p><h2 id="%D1%81%D0%BB%D0%B0%D0%B9%D1%81-(%D1%81%D1%80%D0%B5%D0%B7)" tabindex="-1"><a class="header-anchor" href="#%D1%81%D0%BB%D0%B0%D0%B9%D1%81-(%D1%81%D1%80%D0%B5%D0%B7)"><span>Слайс (срез)</span></a></h2><p><a href="https://github.com/ArturAralin/arturaralin.github.io/blob/master/pages/v8_js_strings_and_memory/tests/slice.js">slice.js</a></p><p><img src="/pages/v8_js_strings_and_memory/pics/slice.png" alt="Гафик для случая чтения"></p><h2 id="%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0%D1%82%D0%B5%D0%BD%D0%B0%D1%86%D0%B8%D1%8F-(%D1%81%D0%BA%D0%BB%D0%B5%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)" tabindex="-1"><a class="header-anchor" href="#%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0%D1%82%D0%B5%D0%BD%D0%B0%D1%86%D0%B8%D1%8F-(%D1%81%D0%BA%D0%BB%D0%B5%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)"><span>Конкатенация (склеивание)</span></a></h2><p><a href="https://github.com/ArturAralin/arturaralin.github.io/blob/master/pages/v8_js_strings_and_memory/tests/with_mutations.js">with_mutations.js</a></p><p><img src="/pages/v8_js_strings_and_memory/pics/concat.png" alt="Гафик для случая чтения"></p><div>Опубликовано: 1/1/1970</div><div>Ключевые слова: <u>V8</u>, <u>JavaScript</u>, <u>Работа с памятью</u></div><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script></div></div><hr><div class="grid"><div><hgroup><h6>Автор: Арутр Аралин</h6><h6>Telegram: @aaralin, email: username@aaralin.ru</h6></hgroup></div><div style="text-align: right;"><a href="https://github.com/ArturAralin"><kbd>Лайк, подписка, колокольчик</kbd></a></div></div></main></body></html>